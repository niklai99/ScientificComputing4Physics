# Scientific Computing for Physics Students – Task 3

## Overview

This project demonstrates a complete scientific computing example involving vector operations. It has two main components:

1. **Generate Vectors:**  

   The `generate_vectors` executable creates two vectors (x and y) of dimension N with constant values (x = 0.1 and y = 7.1) and writes them to files. The file format (plain text or HDF5) is determined by the file extension provided in the filename prefix.

   - **Usage Example:**  

     ```bash
     run generateVectors 10 ./data/input/vector.h5
     ```

     This command generates the files:

     - `./data/input/vector_N10_x.h5`
     - `./data/input/vector_N10_y.h5`

2. **Compute Vector Sum:**  

   The `vector_sum` executable reads a YAML configuration file (e.g., `config/config.yml`) that specifies the input files for vectors x and y, the number of elements (N), the scalar multiplier (a), the output directory and prefix, and the desired output format. It then computes the vector sum using one of two implementations (default or GSL-based) and writes the result to an output file.

   - **Usage Example:**  

     ```bash
     run vectorSum ./config/config.yml
     ```

     The result is written to a file in the output directory as defined by the configuration.

## Configuration

An example configuration file (`config/config.yml`):

```yaml
input:
  vector_x: "./data/input/vector_N10_x.txt"  # or "./data/input/vector_N10_x.h5"
  vector_y: "./data/input/vector_N10_y.txt"  # or "./data/input/vector_N10_y.h5"
  N: 10
  a: 3.0
output:
  path: "./data/output"         # Output directory
  prefix: "result"              # Output file prefix
  format: "dat"                 # Output format: "dat", "txt", or "h5"
implementation: "gsl"           # Implementation: "default" or "gsl"
```

## Project Structure

After building the project, the directory structure will look like this:

```plaintext
project/                 # Project root directory
├── build/                   # Generated by CMake (do not ship)
│   ├── bin/                     # Compiled executables (generate_vectors, vector_sum)
│   ├── commands/                # Generated run script ("run")
│   ├── ...                      # Other CMake build files
│   └── Makefile                 # Makefile for building the project
├── commands/                # Contains the run script template
│   └── run.in                   # Script to run executables with the correct environment
├── config/                  # Configuration files
│   └── config.yml/              # Example configuration file
├── docker/                  # Docker build context
│   └── Dockerfile.alma9         # Dockerfile for building the project
├── include/                 # Header files
│   ├── HelperFunctions.hpp      # Common helper functions for file/path operations
│   ├── VectorIO.hpp             # I/O helper functions for reading/writing vectors
│   ├── VectorSumInterface.hpp   # Abstract interface for vector sum computation
│   ├── VectorSumDefault.hpp     # Default (elementwise) vector sum implementation
│   └── VectorSumGSL.hpp         # GSL-based vector sum implementation
├── scripts/                 # Helper scripts
│   ├── buildProject.sh          # Script to build the project from scratch
│   ├── destroyProject.sh        # Script to completely clean the project
├── src/                     # Source code files
│   ├── generate_vectors.cpp     # Code to generate input vectors (supports txt/dat/h5)
│   ├── vector_sum.cpp           # Code to compute vector sum (selects implementation at runtime)
├── CMakeLists.txt               # CMake build configuration file
└── README.md                    # Project documentation
```

## How to Build

1. **Run the Build Script:**  

   Execute the `buildProject.sh` script to build the project:

   ```bash
   ./scripts/buildProject.sh
   ```

2. **Run the Executables:**

   The project installs a wrapper script named `run` in `/usr/local/bin` during the build process. This script lets you invoke your executables using paths relative to the project root.

   - ** Example to Generate Vectors:**

     ```bash
     run generateVectors 10 ./data/input/vector.h5
     ```

   - ** Example to Compute Vector Sum:**

     ```bash
     run vectorSum ./config/config.yml
     ```

## How to Clean the Project

To remove all build artifacts and executables, run the `destroyProject.sh` script:

```bash
./scripts/destroyProject.sh
```

This script deletes the build directory and removes `/usr/local/bin/run`, allowing you to rebuild from scratch.